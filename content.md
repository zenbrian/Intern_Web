# 工作內容
一、工作環境介紹
> 機構簡介
資策會數位轉型研究院（數轉院）致力於推動臺灣企業的數位轉型， 提供從技術研發到應用落地的全方位支援。實習生在此環境中， 與專業的研發團隊共同協作，參與實際專案，並在同事的指導下， 透過實作中學習，累積職場經驗。

> 實習環境特色
實習期間涵蓋生成式 AI 應用的各個層面，從前期的技術爬蒐與應用分析、 原型開發，到後期的系統整合與測試部署，提供了豐富且紮實的實戰機會。

> 學習機會
> 參與實際的生成式 AI 專案開發
> 與專業研發團隊協作學習
> 從技術研究到系統部署的完整流程體驗
> 跨部門協作與技術交流機會
landscape_homepage.png
landscape_homepage.png
* 圖：資策會數轉院

> 二、工作詳述
> 主要工作項目
> 協助執行生成式 AI 相關資料與應用的爬蒐： 參與生成式 AI 的研究與實作，探索其在不同應用場景中的可能性，並定期評估最新工具與技術， 如 ChatGPT、Claude、Stable Diffusion等，記錄使用經驗並分享於團隊會議中。
> 協助開發生成式 AI 應用： 實際參與文本生成、圖像生成、語音合成等應用的原型設計與功能實作， 涵蓋 LLM 開發（如 Llama、DeepSeek）、圖片生成（如 Stable Diffusion）、TTS/Speech 合成服務等。
> 進行系統整合與 API 開發： 將模型包裝為 RESTful API，並使用 DockerHub 進行服務部署， 提升服務的穩定性與擴展性，支援跨團隊的功能整合與共享。
> 撰寫技術文件與測試案例： 負責專案文件、技術筆記與測試案例設計，協助團隊建立可維運的技術基礎與知識庫， 確保專案開發過程的品質控制。
> 跨部門協作與技術提案： 透過每週例會與技術簡報，與不同部門同仁交流專案成果與學習心得， 協助理解業務需求並提出適合的生成式 AI 應用解決方案。
> 技術工具掌握
資料庫技術:
向量資料庫 (Chroma, Pinecone)
圖形資料庫 (Neo4j)
開發工具:
Python, Git/GitHub
FastAPI, Docker
AI 框架:
LangChain 框架整合
LLM 元件開發
> 三、實習期間完成之進度
> 學習歷程
實習初期階段
參與與 AI 圖像生成相關的專案，熟悉 Stable Diffusion 等技術， 但因任務性質較偏研究測試，學習深度有限。

後續發展方向
在同事的指導下，轉向 LLM 應用開發方向，開始學習 LangChain 框架， 深入理解其核心元件與應用場景。

核心技術掌握
> Chat Models - 多輪對話處理
> Prompts - 提示語設計
> Chains - 鏈式流程建構
> Memory - 對話記憶機制
> Agents - 智能代理開發
> Retrieval - 資訊檢索整合
> 學習成果展現
從研究測試階段進階到實際應用開發，完成了從基礎概念學習到 實際專案應用的完整學習歷程，具備獨立開發 LLM 應用的基礎能力。

> 四、工作當中扮演的角色
> 主要角色職責
🤝 技術協作者
與團隊成員共同協作，從技術討論、系統設計、模組開發到測試部署等階段， 均積極參與並提供可行建議，協助專案順利推進。

🔍 資料爬蒐者
定期察看 GitHub 上的開源專案，作為開拓者去試用新技術， 紀錄使用體驗，並在每周的會議上進行匯報，為團隊提供最新技術資訊。

📋 文件與報告整理者
協助彙整專案過程中的設計流程圖、研究成果與進度紀錄， 並將研究內容轉化為報告架構與簡報資料， 用以支援團隊對外展示與階段性彙報。

> 角色價值貢獻
> 提供新技術評估與實測回饋
> 協助專案文件整理與知識管理
> 參與跨部門溝通與技術交流
> 支援團隊決策制定與方向規劃

# 學習
> 一、技術研究：LangChain
> 框架概述
LangChain 是一套專為大型語言模型（LLM）應用所設計的開源開發框架，npm run preview 其核心目標是讓開發者更容易將語言模型整合到實際應用中。 它不僅支援與外部工具、資料庫、API 等進行串接， 也能建立多步驟的對話邏輯與決策流程， 廣泛應用於智慧問答、資料查詢、工作自動化與報告生成等場景。

> 核心概念與模組結構理解
Models
使用 ChatModel 處理多輪對話，能正確辨別角色（System、User、AI）。

PromptTemplate
學習如何撰寫具一致性與重用性的提示語格式。

Chains
了解如何將多個處理步驟串接為可維護的流程，例如「接收問題 → 檢索資料 → 生成回答」。

Memory
實作能保留對話歷史的功能，提升用戶體驗的連貫性。

Agents
學習如何讓 AI 根據需求自動決定使用哪些工具解決問題。

Tools
是我最投入且實作最多的部分，能讓 AI 具備額外能力。

Retrieval
整合外部資料庫以提升回答的準確性與專業度。

Cache
初步理解其在大流量場景中加速回應與節省資源的應用。

> 工具 Tool 模組運用補充
使用內建工具
> get_current_time：提供時間查詢功能
> get_weather：整合即時天氣查詢 API
> currency_converter：將匯率查詢納入對話中，實現動態資訊查詢
開發自訂工具
> PDF 知識問答助手：透過將 PDF 轉為向量並整合 FAISS，再設計工具供 LLM 查詢回應
> Google Search API 查詢器：實作一個工具讓 LLM 可動態搜尋網頁資料作為回答依據
> 資料庫查詢工具：讓 AI 可針對公司內部的產品資料庫查詢條目，回傳條件篩選結果
> 二、技術個案研究：LLM記帳機器人(柏恩)
> 專案概述
這款 LLM 記帳機器人旨在提供一種直覺、輕鬆的記帳方式， 讓使用者能夠直接以日常語言記錄消費。例如，只需輸入「今天午餐花了 120 元」， 系統便能自動辨識金額與分類，並支援同時處理多筆消費紀錄。 為了提高使用者的信任與便利性，每次記帳都會透過 LINE 的 Flex Message 主動回饋與確認， 讓記帳過程更安心可靠。

natural_language_accounting.mp4
[MP4]
* 影片：透過自然語言記帳，並回傳確認按鈕

> 1. 研究工具與技術架構
系統架構
本系統採用標準的 LINE Bot 架構：使用者將訊息傳送至機器人的 LINE 帳號後， LINE 平台會觸發 webhook event 並將其傳送至後端伺服器。 伺服器接收事件並進行處理，再透過 LINE 平台回應訊息給使用者，形成完整互動流程。

後端技術細節
> Bot Server 架設：採用 FastAPI 作為主要伺服器框架，提供輕量、高效的 API 處理能力
> LINE Bot SDK：使用 LINE 官方提供的 Python SDK
> 大型語言模型整合：透過 LangChain 串接 OpenAI GPT-4o mini，進行自然語言理解與消費分類
> 資料儲存與快取：使用 SQLite 作為主資料庫儲存使用者帳務資料，Redis 快取處理
> 2. 技術細節
為了讓記帳機器人不僅能記錄消費，還能回應使用者查詢如「這週花了多少」或「這個月的收入是多少」等問題， 我們設計並實作了一套完整的「意圖分析與處理系統」，結合大型語言模型的理解能力與明確的指令工具， 讓機器人可以理解多樣的使用者需求並做出相應回應。

意圖分類與處理機制
需要使用者確認的操作（會寫入或刪除資料）：
包括 create_record（新增紀錄）、delete_record（刪除紀錄）、create_category（新增分類）、 edit_category（編輯分類名稱）、delete_category（刪除分類）。 這類操作需透過 LINE Flex Message 回傳確認按鈕，避免LLM錯誤理解使用者的需求。

不需使用者確認的查詢操作：
包括 query_bytime（查詢指定時段內紀錄）、query_latest（查詢最近幾筆紀錄）、 list_categories（列出所有分類）等。

使用者確認與快取策略
由於 LINE 平台不像瀏覽器那樣支援 session 機制，Flex Message 傳送後 bot 就無法記住當下的操作上下文。 為了解決這個問題，我們除了主資料庫 SQLite 之外，額外引入 Redis 作為快取式資料庫， 用來暫存待確認的操作內容。當使用者點擊 Flex Message 的確認按鈕時， bot 可從 Redis 中讀取原始指令並完成資料寫入或刪除操作。

> 3. 研究成果與反思
研究成果
本專案成功開發一款支援自然語言記帳與查詢的 LINE 機器人，整合 GPT-4o mini 模型與 FastAPI 架構。 使用者可透過簡單語句（如「今天午餐 120 元」）快速記帳，並查詢本週或本月收支情況。

技術上採用兩層資料架構（SQLite + Redis），解決 LINE 無 session 問題，確保操作確認機制穩定運作。 意圖系統區分「需確認」與「免確認」操作，提升準確性與安全性，同時導入 Flex Message 設計優化互動體驗。

開發反思
現今的 LLM 能力越來越強，但仍會出現一些預期之外的錯誤。因此，我認為當任務涉及「修改資料」時， 增加一層確認機制是非常必要的。以本記帳系統為例，若 LLM 將使用者原本想「刪除一筆記帳紀錄」的意圖 誤解為「刪除整個分類」，那麼後果將會嚴重影響使用者體驗。這不只是針對本系統，而是所有LLM相關的系統！

同時，我也很慶幸當初選擇了模組化設計。雖然初期開發比較繁瑣，但如今要新增功能， 只需要撰寫一小段函式就能快速擴充，不僅開發效率高，出錯機率也大幅降低。

> 三、專題應用實作：LandScape
> 1. 系統設計與規劃
本系統的目標是打造一套專門針對台灣科技產業的資料探勘平台。 為了提升資料查詢與語意理解的效率，我們將原本的關聯式資料庫轉換為圖資料庫（Neo4j）， 藉由圖資料庫在結構表達與關聯建模上的優勢，使大型語言模型（LLM）能更好地理解資料的內涵與脈絡。

使用者可透過自然語言查詢資料庫，系統則透過 RAG（檢索增強生成）的技術回應查詢內容， 具體來說是以 GraphRAG 為核心架構。 此外，系統也提供傳統的關鍵字查詢、條件過濾與篩選功能。 前端部分則使用 Neo4j 官方的 React SDK，讓使用者得以視覺化瀏覽圖形結構，提升互動性與理解力。

landscape_homepage-1.png
landscape_homepage-2.png
* 圖：landscape主頁

> 2. 技術與方法
本章聚焦於系統最核心的功能：AI 智能查詢。雖然目前功能已趨於完整， 但在查詢精準度方面仍有改進空間，因此開發過程大致分為兩個階段：鏈式查詢（Chain） 與 AI Agent 查詢。

2.1 鏈式查詢（Chain-based Query）
V1：靜態提示詞 + Cypher 查詢
初版實作相對直觀，透過固定的提示詞模板將使用者的自然語言問題轉換為 Cypher 語法， 用來查詢圖資料庫，查詢結果再回傳給 LLM 做後處理。 然而，此版本對關鍵字的依賴性極高，造成使用體驗不佳。

V2：動態提示詞模板
為了解決上述問題，第二版改用動態提示詞模板。提示詞中會根據資料庫實際節點動態顯示可用名稱， 讓 LLM 可以自行推理出使用者可能意圖查詢的節點，提升查詢準確率。

v2_dynamic_template_architecture.png
* 圖：V2：動態提示詞模板架構

V3：加入向量查詢輔助
為兼顧查詢效率與準確性，我們引入輕量化的向量資料庫，儲存各節點名稱的向量表示。 查詢流程改為先透過使用者問題查詢向量資料庫，取得關鍵節點，再將其填入提示詞模板中產生 Cypher 語法。 但事實並沒那麼順遂，模型往往回傳與「公司」相關的節點，卻忽略了關鍵語意，導致查詢結果偏離需求。

v3_vector_query_architecture.png
* 圖：V3：加入向量查詢輔助架構

V3.2：多向量資料庫 + 節點類型分類
為提升語意匹配精準度，我將向量資料庫依節點類型做分類，每一類型各自建置獨立的向量空間， 查詢時針對不同節點類型分別檢索，顯著提升準確度。 但缺點是：查詢過程需多次訪問不同向量庫，整體速度明顯變慢。

AI Agent查詢
隨著 AI Agent 技術日益成熟，我也開始著手設計通用型 MCP Agent， 用來接管更高層次的查詢理解與流程控制。目前正思考新的設計方向，尚屬概念階段：

> Node2Vec-圖的向量轉換： 這不是使用一般的嵌入向量（Embeddings），而是Neo4j為圖形相似度開發的特別向量嵌入模型， 用於計算不同子圖之間的餘弦相似度。
> Vector Index-節點向量索引： 為每個節點建立向量索引，兼容傳統 Cypher 查詢與向量搜尋能力， 提升查詢靈活度與智能化程度。
node2vec_diagram.png
* 圖：Node2Vec

> 3. 預期研究效益
1. 提升知識查詢的效率與深度
相較於傳統關聯式資料庫，本系統以圖資料庫結構呈現產業知識脈絡， 配合 LLM 與 GraphRAG 的結合，使使用者能以自然語言進行語意導向的查詢。

2. 促進圖資料庫與生成式 AI 的融合應用
實踐圖資料與大型語言模型的整合查詢機制，具備高度的參考價值， 未來可廣泛應用於金融、法律、醫療等多種領域的知識圖譜系統。

3. 建立可擴充、可模組化的查詢框架
本系統採用模組化設計，未來能輕易擴增資料來源， 也能引入不同類型的 Agent 技術進行深層推理與自動化分析，具有高度擴充性。

> 4. 系統實作與成果展示
> 系統架構實作
本系統以 Neo4j 圖資料庫為核心，整合大型語言模型（LLM）、自然語言查詢介面與向量檢索機制， 實現一個能針對台灣科技產業知識圖譜進行語意查詢與視覺化探索的平台。 系統開發分為前後端與 AI 模組三部分：

後端架構
以 FastAPI 為主要框架，連接 Neo4j 圖資料庫與輕量化向量資料庫， 支援 Cypher 查詢與向量檢索整合流程。

AI 查詢模組
實作三階段的查詢優化機制（靜態模板 → 動態模板 → 多向量支援）， 朝向更智能的圖知識推理邁進。

前端介面
採用 Neo4j 官方 React SDK，提供圖形結構瀏覽、關鍵字篩選、自然語言查詢等功能， 讓使用者能以視覺化方式探索企業關係與技術鏈結。

> 成果展示重點
🗣️ 自然語言查詢
使用者可輸入自然語言，系統可產生對應 Cypher 語法並回傳關聯企業結果。

natural_language_query.png
* 圖：自然語言查詢

🎯 圖形化展示
查詢結果以互動式圖形節點展示，方便使用者進一步探索節點間關係。

graph_visualization.png
* 圖：圖形化展示

🎯 語意精準強化
引入向量檢索提升模糊查詢精準度，尤其在公司名稱不完整或描述性查詢情境中效果良好。

🔧 模組擴充性驗證
已完成用戶資料匯入測試，以及初步網路爬蟲串接，驗證系統具有良好的擴充能力。

module_extensibility.png
* 圖：模組擴充性驗證

> 開發反思
在本次系統開發中，我深刻體會到圖資料庫與大型語言模型的結合潛力，也遇到了不少挑戰。 最初以為只要透過提示詞生成 Cypher 即可解決查詢問題，實際上卻牽涉到命名標準、語意對齊與查詢上下文的限制。

尤其在資料量增長後，模型輸入長度與查詢效率成為關鍵瓶頸。為此，我不斷嘗試動態模板、向量輔助查詢， 甚至架構多層向量索引來改善準確度與延展性。雖然仍有速度與穩定性需優化， 但也為未來導入新的技術與子圖推理奠定了良好基礎。

這段過程讓我更理解資料庫構建、AI應用與系統整合的相互依賴， 也啟發我思考更長遠的智慧知識系統設計。



# 自我評估及心得感想
> 實習經歷概述
這學期我在實習期間主要專注於生成式AI應用開發，涵蓋了LangChain框架學習、LLM記帳機器人開發， 以及LandScape圖資料庫專案實作。

> 技術能力成長
LangChain框架掌握
在技術學習方面，我深入掌握了LangChain框架的核心概念，特別是在Tools模組的開發上投入最多心力， 成功開發了PDF知識問答助手、Google Search API查詢器等自訂工具。 這個過程讓我學會如何將理論知識轉化為實際應用，培養了系統整合的思維。

全棧開發技能
在LLM記帳機器人的開發中，我遇到了LINE Bot不支援session機制的技術挑戰。 起初覺得技術門檻很高，甚至想過放棄，但透過一步步拆解問題， 最終使用Redis快取機制成功解決。這個經驗讓我學會面對複雜技術問題時， 持續嘗試和系統性分析往往比直覺判斷更有效。

圖資料庫與AI整合
在LandScape專案中，我從關聯式資料庫轉換為圖資料庫的思維學習， 並嘗試GraphRAG架構設計。雖然在查詢精準度優化方面仍有挑戰， 但這個過程讓我更理解資料庫構建、AI應用與系統整合的相互依賴關係。

> 問題解決能力反思
系統性思考建立
過程中我也深刻體會到確認機制在AI系統中的重要性，特別是當涉及資料修改操作時， 避免LLM錯誤理解造成嚴重後果。現今的 LLM 能力越來越強，但仍會出現一些預期之外的錯誤。 因此，我認為當任務涉及「修改資料」時，增加一層確認機制是非常必要的。

模組化設計價值
此外，我很慶幸選擇了模組化設計方法。雖然初期開發較為繁瑣， 但後續功能擴充時只需撰寫小段函式就能快速實現， 這讓我深刻體會到良好架構設計的長遠價值。

持續學習能力
經過多次架構調整（從靜態模板到動態模板再到多向量支援）， 我學會了在效能與精確度之間找到平衡點。 整個實習過程不僅提升了我的技術能力，更重要的是培養了解決複雜問題的思維方式和持續學習的能力。

> 總結與未來展望
這次實習經驗讓我從理論學習跨越到實際應用開發，不僅掌握了生成式AI的核心技術， 更重要的是學會了如何在面對技術挑戰時保持耐心和系統性的思考。 未來我將繼續深化在AI應用開發方面的技能，並將這些寶貴的經驗應用到更多實際專案中。